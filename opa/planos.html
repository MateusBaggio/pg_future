<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="resetplanos.css">
    <link rel="stylesheet" href="planos.css">
</head>

<body>
    <section id="body_planos">
        <div class="planostxt">
            <h1 id="titulotxt">Escolha o plano <strong class="marcacao">ideal</strong> pra sua empresa.</h1>
            <p id="subtitulotxt">Sem cobranças invisíveis nem compartilhamento de dados desnecessários.</p>
        </div>

        <div class="main_planos">
            <div class="mainplanos">
                <h1 id="faca_plano">Faça seu plano <br><strong class="marcacao">personalizado.</strong></h1>

                <div class="botao-toggle" id="botaoToggle">
                    <div class="indicador-toggle"></div>
                    <div class="opcao-toggle ativa" id="mensal" onclick="alternarOpcao('mensal')">Mensal</div>
                    <div class="opcao-toggle" id="anual" onclick="alternarOpcao('anual')">Anual</div>
                </div>

                <p class="txt_mainplanos">Insira a quantidade de funcionários da sua empresa.</p>

                <input type="number" placeholder="Insira a quantidade de funcionários aqui..." id="formulario_mainplanos">

                <button id="consultar" onclick="calcularValor()">Consultar</button>

                <h2 id="valormensal">Valor a pagar mensalmente</h2>

                <h1 id="valortotal">R$0,00</h1>

                <div id="header">
                    <p id="como_funciona">Como funciona o nosso sistema de cobrança?</p>
                    <ul>
                        <li><strong>Até 100 funcionários</strong>: 2% de desconto a cada 10 funcionários, desconto máximo de 12%/mês</li>
                        <li><strong>Até 1000 funcionários</strong>: 4% de desconto a cada 100 funcionários, desconto máximo de 20%/mês</li>
                        <li><strong>1000+ funcionários</strong>: 5% de desconto a cada 1000 funcionários, desconto máximo de 25%/mês</li>
                    </ul>
                </div>
            </div>

            <div id="mainplanos_esquerda">
                <img src="Rectangle 49 (1).png" alt="" id="img_main">
            </div>
        </div>

        
        <script>
            tipoPlano = "mensal";

    function alternarOpcao(opcaoSelecionada) {
        const mensal = document.getElementById("mensal");
           const anual = document.getElementById("anual");
        const botaoToggle = document.getElementById("botaoToggle");

    
        mensal.classList.remove("ativa");
        anual.classList.remove("ativa");

    
        document.getElementById(opcaoSelecionada).classList.add("ativa");

    
        if (opcaoSelecionada === "anual") {
           botaoToggle.classList.add("anual-ativa");
        } else {
          botaoToggle.classList.remove("anual-ativa");
        }

    
         tipoPlano = opcaoSelecionada;
}

    function calcularValor() {
        const quantidade_funcionarios = parseInt(document.getElementById("formulario_mainplanos").value);
        if (isNaN(quantidade_funcionarios) || quantidade_funcionarios <= 0) {
         alert("Insira uma quantidade válida de funcionários.");
            return;
     }

        const valorBase = 18.75;
         valorTotal = quantidade_funcionarios * valorBase;

    
        desconto = 0;
        if (quantidade_funcionarios <= 100) {
         desconto = Math.min(12, Math.floor(quantidade_funcionarios / 10) * 2);
        } 
        else if (quantidade_funcionarios <= 1000) {
            desconto = Math.min(20, Math.floor(quantidade_funcionarios / 100) * 4);
        } 
        else {
            desconto = Math.min(25, Math.floor(quantidade_funcionarios / 1000) * 5);
        }

   
    valorTotal = valorTotal * (1 - desconto / 100);

   
    if (tipoPlano === "anual") {
        valorTotal *= 12;
    }

    document.getElementById("valortotal").innerText = `R$${valorTotal.toFixed(2)}`;
}


    </script>
    </section>
</body>

</html>
